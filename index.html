<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Jeu philosophique</title>
<style>

  body { font-family: 'Segoe UI Emoji', 'Apple Color Emoji', 'Noto Color Emoji', sans-serif; background: #f5f5f5; margin:0; padding:0; display:flex; flex-direction:column; align-items:center; min-height:100vh;}
  h1 { margin-top:30px; text-align:center; }
  h2 {font-size: 1.2rem; text-align: center; margin-bottom: 1rem; color: #555; }
  #controls { margin:20px 0; display:flex; gap:10px; flex-wrap:wrap; justify-content:center;}
  button { padding:12px 24px; font-size:16px; border:none; border-radius:8px; cursor:pointer; transition:0.3s; }
  button:hover { opacity:0.85; }
  #startBtn { background:#4caf50; color:white; min-width:150px; /* largeur minimale fixe */ }

.flag {
  transition: 0.3s;
  cursor: pointer;
}
.flag.active {
  width:50px;
  height:50px;
  background-color: black;
}
#langBtn {
  display: flex;
  gap: 10px;
  justify-content: center;
  align-items: center;
  cursor: pointer;
}
  #shareBtn { background:#2196f3; color:white; display:none; }
  #question { margin:20px 0; font-size:18px; text-align:center; max-width:800px; }
  #choices { display:flex; flex-direction:column; gap:10px; align-items:center; margin-bottom:20px; }
  #choices button { width:300px; max-width:80%; background:#ff6f61; color:white; font-weight:bold; }
  #stats { margin:10px 0; font-size:16px; }
  #result { margin:20px; text-align:center; white-space:pre-line; font-size:16px; }
  @media(max-width:600px){ #choices button { width:90%; font-size:14px; } }
  @media screen and (max-width: 600px) { h1 { font-size: 1.5rem; } h2 { font-size: 1rem; } button { width: 90%; font-size: 1rem; } }
</style>
</head>
<body>

<h1 id="title">Jeu philosophique</h1>
<h2 id="gameSubtitle">RÃ©pondez Ã  20 questions et dÃ©couvrez votre personnalitÃ©</h2>
<div id="controls">
  <button id="startBtn">Commencer</button>
<div id="langBtn" style="display:flex; gap:10px; cursor:pointer;">
  <img src="/FR.png" class="flag active" data-lang="fr" alt="FR" style="width:40px; height:40px;"/>
  <img src="/AR.png" class="flag" data-lang="ar" alt="AR" style="width:40px; height:40px;"/>
  <img src="/EN.png" class="flag" data-lang="en" alt="EN" style="width:40px; height:40px;"/>
</div>
  <button id="shareBtn">ğŸ“¤ Partager</button>
</div>

<div id="stats">ğŸ§  50 | âš–ï¸ 50 | ğŸ•¯ï¸ 50</div>
<div id="question"></div>
<div id="choices"></div>
<div id="result"></div>

<script>
let step = 0;
let wa3y=50, qana3a=50, ma3na=50;

// 20 questions philosophiques bilingues
const stages = [
  {
    fr:"Tu te rÃ©veilles sans nom, sans passÃ©.\nSuivez-vous vos choix ou ce quâ€™on vous impose ?",
    ar:"ØªØ³ØªÙŠÙ‚Ø¸ Ø¯ÙˆÙ† Ø§Ø³Ù…ØŒ Ø¯ÙˆÙ† Ù…Ø§Ø¶Ù.\nÙ‡Ù„ Ø£Ù†Øª Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙƒ Ø£Ù… Ù…Ø§ ÙÙØ±Ø¶ Ø¹Ù„ÙŠÙƒØŸ",
    en:"You wake up with no name, no past.\nDo you follow your choices or what is imposed on you?",
    choices:[
      {fr:"Je choisis mes choix", ar:"Ø£Ù†Ø§ Ù†ØªÙŠØ¬Ø© Ø§Ø®ØªÙŠØ§Ø±Ø§ØªÙŠ", en:"I choose my own path", points:{wa3y:10,qana3a:0,ma3na:5}},
      {fr:"Je subis les circonstances", ar:"Ø£Ù†Ø§ Ø¶Ø­ÙŠØ© Ø§Ù„Ø¸Ø±ÙˆÙ", en:"I suffer the circumstances", points:{wa3y:-5,qana3a:-5,ma3na:0}},
      {fr:"Je ne sais pas", ar:"Ù„Ø§ Ø£Ø¹Ù„Ù… Ø¨Ø¹Ø¯", en:"I don't know yet", points:{wa3y:0,qana3a:5,ma3na:5}}
    ]
  },
  {
    fr:"Deux chemins sâ€™offrent Ã  toi : clair ou mystÃ©rieux?",
    ar:"Ø·Ø±ÙŠÙ‚Ø§Ù† Ø£Ù…Ø§Ù…Ùƒ: ÙˆØ§Ø¶Ø­ Ø£Ù… ØºØ§Ù…Ø¶ØŸ",
    en:"Two paths lie ahead: clear or mysterious?",
    choices:[
      {fr:"Clair", ar:"ÙˆØ§Ø¶Ø­", en:"Clear", points:{wa3y:-5,qana3a:10,ma3na:0}},
      {fr:"MystÃ©rieux", ar:"ØºØ§Ù…Ø¶", en:"Mysterious", points:{wa3y:10,qana3a:0,ma3na:10}},
      {fr:"Je rÃ©flÃ©chis", ar:"Ø£ØªÙˆÙ‚Ù ÙˆØ£ÙÙƒØ±", en:"I reflect", points:{wa3y:5,qana3a:5,ma3na:5}}
    ]
  },
  {
    fr:"Cherches-tu le bonheur ou la vÃ©ritÃ© ?",
    ar:"Ù‡Ù„ ØªØ¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø³Ø¹Ø§Ø¯Ø© Ø£Ù… Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø©ØŸ",
    en:"Are you seeking happiness or truth?",
    choices:[
      {fr:"Bonheur", ar:"Ø§Ù„Ø³Ø¹Ø§Ø¯Ø©", en:"Happiness", points:{wa3y:-5,qana3a:10,ma3na:0}},
      {fr:"VÃ©ritÃ©", ar:"Ø§Ù„Ø­Ù‚ÙŠÙ‚Ø©", en:"Truth", points:{wa3y:10,qana3a:-5,ma3na:10}},
      {fr:"Les deux sont une illusion", ar:"ÙƒÙ„Ø§Ù‡Ù…Ø§ ÙˆÙ‡Ù…", en:"Both are an illusion", points:{wa3y:5,qana3a:0,ma3na:-5}}
    ]
  },
  {
    fr:"Certaines dÃ©cisions ont blessÃ© dâ€™autres. Le regret est-il une faiblesse?",
    ar:"Ø¨Ø¹Ø¶ Ù‚Ø±Ø§Ø±Ø§ØªÙƒ Ø£Ø¶Ø±Øª Ø¨Ø§Ù„Ø¢Ø®Ø±ÙŠÙ†. Ù‡Ù„ Ø§Ù„Ù†Ø¯Ù… Ø¶Ø¹ÙØŸ",
    en:"Some decisions have hurt others. Is regret a weakness?",
    choices:[
      {fr:"Oui", ar:"Ù†Ø¹Ù…ØŒ Ø§Ù„Ù†Ø¯Ù… Ø¶Ø¹Ù", en:"Yes, regret is weakness", points:{wa3y:-10,qana3a:10,ma3na:-5}},
      {fr:"Non, conscience", ar:"Ù„Ø§ØŒ Ø§Ù„Ù†Ø¯Ù… ÙˆØ¹ÙŠ", en:"No, consciousness", points:{wa3y:10,qana3a:-5,ma3na:5}},
      {fr:"Ne change rien", ar:"Ø§Ù„Ù†Ø¯Ù… Ù„Ø§ ÙŠØºÙŠØ± Ø´ÙŠØ¦Ù‹Ø§", en:"Do not change anything", points:{wa3y:0,qana3a:0,ma3na:-5}}
    ]
  },
  {
    fr:"On te donne une chance de revenir sur une dÃ©cision passÃ©e. Le fais-tu ?",
    ar:"ØªÙÙ…Ù†Ø­ ÙØ±ØµØ© Ù„Ø¥Ø¹Ø§Ø¯Ø© Ù‚Ø±Ø§Ø± Ù‚Ø¯ÙŠÙ…. Ù‡Ù„ ØªÙØ¹Ù„ØŸ",
    en:"You are given a chance to revisit a past decision. Do you take it?",
    choices:[
      {fr:"Je refais le choix", ar:"Ø£Ø¹ÙŠØ¯ Ø§Ù„Ù‚Ø±Ø§Ø±", en:"I redo the choice", points:{wa3y:-5,qana3a:0,ma3na:-10}},
      {fr:"Je garde tout ce que jâ€™Ã©tais", ar:"Ø£Ø­ØªÙØ¸ Ø¨ÙƒÙ„ Ù…Ø§ ÙƒÙ†Øª", en:"I keep everything I was", points:{wa3y:10,qana3a:5,ma3na:5}},
      {fr:"Jâ€™hÃ©site", ar:"Ø£ØªØ±Ø¯Ø¯", en:"I hesitate", points:{wa3y:0,qana3a:-5,ma3na:0}}
    ]
  },
  {
    fr:"Ã€ la fin, personne ne te voit. Fais-tu face Ã  toi-mÃªme honnÃªtement ?",
    ar:"ÙÙŠ Ø§Ù„Ù†Ù‡Ø§ÙŠØ©ØŒ Ù„Ø§ Ø£Ø­Ø¯ ÙŠØ±Ø§Ùƒ. Ù‡Ù„ ØªÙˆØ§Ø¬Ù‡ Ù†ÙØ³Ùƒ Ø¨ØµØ±Ø§Ø­Ø©ØŸ",
    en:"In the end, no one sees you. Do you face yourself honestly?",
    choices:[
      {fr:"Me rÃ©concilier", ar:"Ø£ØµØ§Ù„Ø­ Ù†ÙØ³ÙŠ", en:"I reconcile with myself", points:{wa3y:10,qana3a:10,ma3na:10}},
      {fr:"Je fuis", ar:"Ø£Ù‡Ø±Ø¨ Ù…Ù† Ø§Ù„Ø³Ø¤Ø§Ù„", en:"I run away", points:{wa3y:-10,qana3a:0,ma3na:-10}},
      {fr:"Je souris en silence", ar:"Ø£Ø¨ØªØ³Ù… Ø¨ØµÙ…Øª", en:"I smile silently", points:{wa3y:5,qana3a:5,ma3na:0}}
    ]
  },
  {
    fr:"Tu vois un pont menant Ã  la lumiÃ¨re. Traverses-tu ?",
    ar:"ØªØ±Ù‰ Ø¬Ø³Ø±Ù‹Ø§ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰ Ø¶ÙˆØ¡. Ù‡Ù„ ØªØ¹Ø¨Ø±Ù‡ØŸ",
    en:"You see a bridge leading to light. Do you cross it?",
    choices:[
      {fr:"Oui", ar:"Ù†Ø¹Ù…", en:"Yes", points:{wa3y:10,qana3a:5,ma3na:10}},
      {fr:"Non", ar:"Ù„Ø§", en:"No", points:{wa3y:-5,qana3a:-5,ma3na:-5}},
      {fr:"Jâ€™attends", ar:"Ø£Ù†ØªØ¸Ø±", en:"I wait", points:{wa3y:0,qana3a:0,ma3na:0}}
    ]
  },
  {
    fr:"Une voix Ã©trange tâ€™appelle : Continuer ou changer ?",
    ar:"ØµÙˆØª ØºØ±ÙŠØ¨ ÙŠÙ†Ø§Ø¯ÙŠÙƒ: ØªØ§Ø¨Ø¹ Ø£Ù… Ø¹Ø¯Ù„ØŸ",
    en:"A strange voice calls you: Continue or change?",
    choices:[
      {fr:"Continuer", ar:"Ø£ØªØ§Ø¨Ø¹", en:"Continue", points:{wa3y:5,qana3a:0,ma3na:5}},
      {fr:"Changer", ar:"Ø£ØºÙŠØ±", en:"Change", points:{wa3y:0,qana3a:5,ma3na:0}},
      {fr:"Se taire", ar:"Ø£ØµÙ…Øª", en:"Be silent", points:{wa3y:0,qana3a:0,ma3na:0}}
    ]
  },
  {
    fr:"Une clÃ© tâ€™est proposÃ©e. Lâ€™ouvres-tu ?",
    ar:"ÙŠÙØ¹Ø±Ø¶ Ø¹Ù„ÙŠÙƒ Ù…ÙØªØ§Ø­. Ù‡Ù„ ØªÙØªØ­Ù‡ØŸ",
    en:"A key is offered to you. Do you open it?",
    choices:[
      {fr:"Oui", ar:"Ù†Ø¹Ù…", en:"Yes", points:{wa3y:10,qana3a:0,ma3na:5}},
      {fr:"Non", ar:"Ù„Ø§", en:"No", points:{wa3y:-5,qana3a:5,ma3na:-5}},
      {fr:"Je rÃ©flÃ©chis", ar:"Ø£ÙÙƒØ±", en:"I think", points:{wa3y:0,qana3a:0,ma3na:0}}
    ]
  },
  {
    fr:"Enfin, devant le miroir, te vois-tu honnÃªtement ?",
    ar:"Ø£Ø®ÙŠØ±Ù‹Ø§ØŒ ØªÙ‚Ù Ø£Ù…Ø§Ù… Ù…Ø±Ø¢Ø© Ù†ÙØ³Ùƒ. Ù‡Ù„ ØªØ±Ù‰ Ù†ÙØ³Ùƒ Ø¨ØµØ¯Ù‚ØŸ",
    en:"Finally, in front of the mirror, do you see yourself honestly?",
    choices:[
      {fr:"Oui", ar:"Ù†Ø¹Ù…", en:"Yes", points:{wa3y:10,qana3a:10,ma3na:10}},
      {fr:"Non", ar:"Ù„Ø§", en:"No", points:{wa3y:-10,qana3a:-5,ma3na:-10}},
      {fr:"Je souris en silence", ar:"Ø£Ø¨ØªØ³Ù… Ø¨ØµÙ…Øª", en:"I smile silently", points:{wa3y:5,qana3a:0,ma3na:0}}
    ]
  }
  // Ajoute les 10 questions restantes ici...
];


// MÃ©langer les questions
function shuffle(array){for(let i=array.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[array[i],array[j]]=[array[j],array[i]];}}

// Afficher la question
function showQuestion(){
  if(step>=stages.length){ showResult(); return; }
  const s = stages[step];
  document.getElementById("question").innerText = s[lang];
  const choicesDiv = document.getElementById("choices");
  choicesDiv.innerHTML="";
  s.choices.forEach(c=>{
    const btn = document.createElement("button");
    btn.innerText = c[lang];
    btn.onclick = ()=>{
      wa3y += c.points.wa3y;
      qana3a += c.points.qana3a;
      ma3na += c.points.ma3na;
      step++;
      showQuestion();
    };
    choicesDiv.appendChild(btn);
  });
  document.getElementById("stats").innerText = `ğŸ§  ${wa3y} | âš–ï¸ ${qana3a} | ğŸ•¯ï¸ ${ma3na}`;
}
let started = false;
// Bouton dÃ©marrer / recommencer
document.getElementById("startBtn").onclick = ()=>{
  step=0; wa3y=50; qana3a=50; ma3na=50;
  shuffle(stages);
  document.getElementById("result").innerText="";
  document.getElementById("shareBtn").style.display="none";
  document.getElementById("startBtn").style.display="none";
  started = true; // le jeu a commencÃ©
  showQuestion();
};

// Changer la langue
let lang = "fr"; // langue par dÃ©faut

const flags = document.querySelectorAll("#langBtn .flag");
flags.forEach(flag => {
  flag.addEventListener("click", ()=>{
    lang = flag.dataset.lang;
    flags.forEach(f => f.classList.remove("active"));
    flag.classList.add("active");

    // Mettre Ã  jour les textes du jeu selon la langue
    document.getElementById("title").innerText = (lang==="fr")?"Jeu philosophique":(lang==="ar")?"Ù„Ø¹Ø¨Ø© Ø§Ù„ÙÙ„Ø³ÙØ©":"Philosophical Game";
    document.getElementById("gameSubtitle").innerText = (lang==="fr")?"RÃ©pondez aux questions et dÃ©couvrez votre personnalitÃ©":(lang==="ar")?"Ø£Ø¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§ÙƒØªØ´Ù Ø´Ø®ØµÙŠØªÙƒ":"Answer the questions and discover your personality";
    document.getElementById("startBtn").innerText = (lang==="fr")?"Commencer":(lang==="ar")?"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©":"Start";
    document.getElementById("shareBtn").innerText = (lang==="fr")?"ğŸ“¤ Partager":(lang==="ar")?"ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©":"ğŸ“¤ Share";

    // Si le jeu a commencÃ©, mettre Ã  jour la question ou le rÃ©sultat
    if(started){
      if(step < stages.length) showQuestion();
      else showResult();
    }
  });
});




// Fonction pour mettre Ã  jour tous les textes
function updateTexts(){
  const titles = {
    fr: {title:"Jeu philosophique", subtitle:"RÃ©pondez aux questions et dÃ©couvrez votre personnalitÃ©", start:"Commencer", share:"ğŸ“¤ Partager", restart:"Recommencer"},
    ar: {title:"Ù„Ø¹Ø¨Ø© Ø§Ù„ÙÙ„Ø³ÙØ©", subtitle:"Ø£Ø¬Ø¨ Ø¹Ù„Ù‰ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ§ÙƒØªØ´Ù Ø´Ø®ØµÙŠØªÙƒ", start:"Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©", share:"ğŸ“¤ Ù…Ø´Ø§Ø±ÙƒØ©", restart:"Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯"},
    en: {title:"Philosophical Game", subtitle:"Answer the questions and discover your personality", start:"Start", share:"ğŸ“¤ Share", restart:"Restart"}
  };
  
  document.getElementById("title").innerText = titles[lang].title;
  document.getElementById("gameSubtitle").innerText = titles[lang].subtitle;
  if(!started) document.getElementById("startBtn").innerText = titles[lang].start;
  else document.getElementById("startBtn").innerText = titles[lang].restart;
  document.getElementById("shareBtn").innerText = titles[lang].share;

  if(started){
    if(step < stages.length) showQuestion();
    else showResult();
  }
}


// Afficher le rÃ©sultat
function showResult(){
  const ar = `ğŸ§  ${wa3y>=70?"ÙˆØ¹ÙŠ Ù…Ø±ØªÙØ¹":wa3y>=50?"ÙˆØ¹ÙŠ Ù…ØªÙˆØ³Ø·":"ÙˆØ¹ÙŠ Ù…Ù†Ø®ÙØ¶"}\nâš–ï¸ ${qana3a>=70?"Ù‚Ù†Ø§Ø¹Ø© Ù‚ÙˆÙŠØ©":qana3a>=50?"Ù‚Ù†Ø§Ø¹Ø© Ù…ØªÙˆØ³Ø·Ø©":"Ù‚Ù†Ø§Ø¹Ø© Ø¶Ø¹ÙŠÙØ©"}\nğŸ•¯ï¸ ${ma3na>=70?"Ø¨Ø­Ø« Ø¹Ù…ÙŠÙ‚":ma3na>=50?"Ø¨Ø­Ø« Ù…ØªÙˆØ³Ø·":"ØºÙŠØ§Ø¨ Ø§Ù„Ø¨Ø­Ø«"}\n\nØªØ°ÙƒØ±: ÙƒÙ„ Ø§Ø®ØªÙŠØ§Ø± ÙŠØ´ÙƒÙ„ Ø´Ø®ØµÙŠØªÙƒ.`;
  
  const fr = `ğŸ§  ${wa3y>=70?"Conscience Ã©levÃ©e":wa3y>=50?"Conscience moyenne":"Conscience faible"}\nâš–ï¸ ${qana3a>=70?"Conviction forte":qana3a>=50?"Conviction moyenne":"Conviction faible"}\nğŸ•¯ï¸ ${ma3na>=70?"Sens profond":ma3na>=50?"Sens moyen":"Sens absent"}\n\nSouviens-toi : chaque choix forme ta personnalitÃ©.`;
  
  const en = `ğŸ§  ${wa3y>=70?"High awareness":wa3y>=50?"Medium awareness":"Low awareness"}\nâš–ï¸ ${qana3a>=70?"Strong conviction":qana3a>=50?"Medium conviction":"Weak conviction"}\nğŸ•¯ï¸ ${ma3na>=70?"Deep sense":ma3na>=50?"Medium sense":"No sense"}\n\nRemember: every choice shapes your personality.`;

  document.getElementById("choices").innerHTML="";
  document.getElementById("question").innerText = (lang==="fr")?"=== Analyse dÃ©taillÃ©e ===":(lang==="ar")?"=== Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ© ===":"=== Detailed Analysis ===";
  document.getElementById("result").innerText = (lang==="fr")?fr:(lang==="ar")?ar:en;

  document.getElementById("shareBtn").style.display="inline-block";
  document.getElementById("startBtn").style.display="inline-block";
  document.getElementById("startBtn").innerText = (lang==="fr")?"Recommencer":(lang==="ar")?"Ø§Ø¨Ø¯Ø£ Ù…Ù† Ø¬Ø¯ÙŠØ¯":"Restart";
}

// Bouton partage
document.getElementById("shareBtn").onclick = ()=>{
  const url = encodeURIComponent(window.location.href);
  const text = encodeURIComponent(
    (lang==="fr") ? `Mon rÃ©sultat du jeu philosophique:\nğŸ§  ${wa3y} | âš–ï¸ ${qana3a} | ğŸ•¯ï¸ ${ma3na}` :
    (lang==="ar") ? `Ù†ØªÙŠØ¬ØªÙŠ ÙÙŠ Ù„Ø¹Ø¨Ø© Ø§Ù„ÙÙ„Ø³ÙØ©:\nğŸ§  ${wa3y} | âš–ï¸ ${qana3a} | ğŸ•¯ï¸ ${ma3na}` :
    `My philosophical game result:\nğŸ§  ${wa3y} | âš–ï¸ ${qana3a} | ğŸ•¯ï¸ ${ma3na}`
  );
  window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, "_blank");
};

</script>

</body>
</html>
